(this["webpackJsonptrumarket-web-react"]=this["webpackJsonptrumarket-web-react"]||[]).push([[0],{255:function(e,t,n){},423:function(e){e.exports=JSON.parse('{"name":"trumarket-web-react","version":"0.11.1","private":true,"dependencies":{"@testing-library/jest-dom":"^5.11.9","@testing-library/react":"^11.2.5","@testing-library/user-event":"^12.8.3","@trufla/tru-domain":"0.1.25","@trufla/react-design-system":"0.66.10","@types/jest":"^26.0.21","@types/lodash":"^4.14.168","@types/node":"^12.20.6","@types/react":"^17.0.3","@types/react-dom":"^17.0.3","@types/react-router-dom":"^5.1.7","ajv":"^8.6.2","ajv-errors":"^3.0.0","ajv-formats":"^2.1.1","axios":"^0.21.1","luxon":"^1.27.0","node-sass":"^5.0.0","react":"^17.0.2","react-dom":"^17.0.2","react-router-dom":"^5.2.0","react-scripts":"4.0.3","socket.io-client":"^4.3.2","typescript":"^4.2.3","web-vitals":"^1.1.1"},"scripts":{"lint":"npm run tsc && npm run format:check","tsc":"tsc","format:check":"prettier --config ./.prettierrc --list-different \\"src/**/*{.ts*,.js*,.css,.scss}\\"","format:write":"prettier --config ./.prettierrc --write \\"src/**/*{.ts*,.js*,.json,.css,.scss}\\"","start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@types/luxon":"^1.27.0","prettier":"^2.3.2"}}')},441:function(e,t,n){var c={"./add-document.svg":[959,3],"./added-by.svg":[960,4],"./archive.svg":[961,5],"./back-arrow.svg":[962,6],"./calendar-alt.svg":[963,7],"./cancel.svg":[964,8],"./caret-down-outlined.svg":[965,9],"./caret-up-outlined.svg":[966,10],"./check-circle.svg":[967,11],"./combined-shape.svg":[968,12],"./comment.svg":[969,13],"./coverage.svg":[970,14],"./created.svg":[971,15],"./crossIcon.svg":[972,16],"./duplicate.svg":[973,17],"./edit-pen.svg":[974,18],"./edit.svg":[975,19],"./error-icon.svg":[976,20],"./exclamation-circle.svg":[977,21],"./filter.svg":[978,22],"./glasses.svg":[979,23],"./info.svg":[980,24],"./messages.svg":[981,25],"./note.svg":[982,26],"./notification.svg":[983,27],"./permission.svg":[984,28],"./plus.svg":[985,29],"./quick-menu.svg":[986,30],"./record.svg":[987,31],"./save.svg":[988,32],"./search.svg":[989,33],"./setting-gear.svg":[990,34],"./settings.svg":[991,35],"./spanner-icon.svg":[992,36],"./to-optimize/add-user-colored.svg":[993,37],"./to-optimize/caret-down-filled-colored.svg":[994,38],"./to-optimize/caret-down-filled.svg":[995,39],"./to-optimize/chart.svg":[996,40],"./to-optimize/check-circle.svg":[997,41],"./to-optimize/close-circle.svg":[998,42],"./to-optimize/documents-info.svg":[999,43],"./to-optimize/documents.svg":[1e3,44],"./to-optimize/edit-colored.svg":[1001,45],"./to-optimize/edit-contract.svg":[1002,46],"./to-optimize/file-export.svg":[1003,47],"./to-optimize/impersonate.svg":[1004,48],"./to-optimize/key-colored.svg":[1005,49],"./to-optimize/link-colored.svg":[1006,50],"./to-optimize/link.svg":[1007,51],"./to-optimize/list-colored.svg":[1008,52],"./to-optimize/lock-colored.svg":[1009,53],"./to-optimize/payment.svg":[1010,54],"./to-optimize/policy-colored.svg":[1011,55],"./to-optimize/policy.svg":[1012,56],"./to-optimize/trash-colored.svg":[1013,57],"./to-optimize/unlock-colored.svg":[1014,58],"./to-optimize/user-colored.svg":[1015,59],"./to-optimize/user-edit-colored.svg":[1016,60],"./to-optimize/user-file.svg":[1017,61],"./to-optimize/users.svg":[1018,62]};function r(e){if(!n.o(c,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=c[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(c)},r.id=441,e.exports=r},694:function(e,t){},702:function(e,t){},704:function(e,t){},937:function(e,t){},941:function(e,t,n){},942:function(e,t,n){},943:function(e,t,n){},944:function(e,t,n){},945:function(e,t,n){},946:function(e,t,n){},947:function(e,t,n){},948:function(e,t,n){},949:function(e,t,n){},950:function(e,t,n){},951:function(e,t,n){},952:function(e,t,n){},953:function(e,t,n){},954:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(45),i=n.n(a),s=n(30),l=n(2),o=n(65),u=n(25),d=n(423),j=n(20),b=n(16),h=(n(941),/[\s$*.()|/@#!~^&-=+;,?%0-9]/g),m=/^[a-zA-Z-' ]+$/,v=/^[^@]+@[^@]+.[^@]+$/,p=/^\d+$/,O=n(0),f=function(){var e=Object(c.useState)(),t=Object(j.a)(e,2),n=t[0],r=t[1],a=Object(b.u)({paginate:{limit:20,offset:0},select:["key","name","email","status"]}),i=a.handleFilter,s=a.data,o=Object(u.g)();return Object(c.useEffect)((function(){var e=null===n||void 0===n?void 0:n.replace(h,"");if(e){var t=setTimeout((function(){return i({name:e})}),600);return function(){return clearTimeout(t)}}}),[n]),Object(O.jsx)("div",{className:"top-level-search",children:Object(O.jsx)(l.eb,{placeholder:"Search",onSearch:function(e){r(e)},icon:Object(O.jsx)(l.fb,{fill:"#54616C"}),value:n||"",children:!!s&&Object(O.jsx)("div",{className:"options-dropdown",children:s.length?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("h4",{children:"All"}),Object(O.jsx)(l.E,{verticalMargin:"-1px"}),s.map((function(e){var t=e.key,n=e.name,c=e.email,a=e.status;return Object(O.jsx)(l.l,{name:n,email:c,link:Object(O.jsx)(l.f,{type:"link",onClick:function(){o.push("/clients/"+t),r("")},children:a})},t)}))]}):Object(O.jsx)(O.Fragment,{children:"No data found"})})})})},x=n(17),g=n.n(x),y=n(27),k=n(430),N=function(e){var t=e.onSave,n=e.onClose,r=Object(l.vb)({}),a=Object(b.o)(),i=Object(k.a)(),s=Object(b.b)(),o=Object(l.xb)(),u=Object(l.wb)("clientKey"),d=Object(c.useState)(),h=Object(j.a)(d,2),m=h[0],v=h[1],p=Object(c.useState)(),f=Object(j.a)(p,2),x=f[0],N=f[1],C=function(){var e=Object(y.a)(g.a.mark((function e(n){var c,r,l,d,j,b;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(c=n.file)||void 0===c?void 0:c.length)){e.next=21;break}return v(""),e.prev=2,d=null===(r=n.file)||void 0===r?void 0:r[0],e.next=6,a();case 6:return j=e.sent,b=j.data,e.next=10,i(null===b||void 0===b?void 0:b.uploadForm.url,null===b||void 0===b||null===(l=b.uploadForm)||void 0===l?void 0:l.fields,d);case 10:return e.next=12,s({name:n.name,uploadRef:null===b||void 0===b?void 0:b.key,source:"UPLOAD",clientsKeys:[u]});case 12:o.success("Attachment file successfully uploaded!"),t(),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),o.error("Un-expected error: Attachment upload failed!");case 19:e.next=22;break;case 21:n.file||v("Attachment File is required");case 22:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)(l.mb,{form:r,onFinish:C,children:[Object(O.jsx)(r.Item,{rules:[{required:!0,message:"This field is required!",whitespace:!0},{max:100,message:"Must be less than 100 characters"}],name:"name",label:"Name",children:Object(O.jsx)(l.jb,{})}),Object(O.jsx)(r.Item,{rules:[{required:!0,message:"Attachment File is required"}],name:"file",label:"File",children:Object(O.jsxs)(l.B,{onChange:function(e){return function(e){var t;e.length&&v(""),N(null===(t=e[0])||void 0===t?void 0:t.name)}(e)},onError:function(e){return v(e)},mimeTypes:"application/pdf",maxFileSize:2,children:[!!x&&Object(O.jsx)("p",{className:"file-attachment-name",children:x}),!!m&&Object(O.jsx)("p",{className:"tru-attachment-msg",children:m})]})}),Object(O.jsx)(r.Item,{shouldUpdate:!0,children:function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(l.nb,{type:"primary",htmlType:"submit",disabled:!r.valid(),children:"Add"}),Object(O.jsx)(l.nb,{htmlType:"reset",onClick:n,type:"default",children:"Cancel"})]})}})]})},C=n(47),w=[{name:"Individual",value:"individual"},{name:"Organization",value:"organization"}],S=[{name:"Facebook",value:"Facebook"},{name:"Google",value:"Google"},{name:"Twitter",value:"Twitter"}],q=["cell","home","work","other"],E=["Phone Call","Email","Meeting","General","Notes"],T=[{label:"Policy",value:"label"},{label:"Title",value:"name"}],A=function(e){var t=e.onChange,n=e.value;return Object(O.jsx)(l.gb,{onChange:t,value:n,children:S.map((function(e){return Object(O.jsx)("option",{value:e.value,children:e.name},"source-option-".concat(e.value))}))})},F=(n(255),function(e){var t=e.onChange,n=e.value,r=Object(c.useState)(!1),a=Object(j.a)(r,2),i=a[0],s=a[1],o=Object(b.y)({paginate:{limit:20,offset:0}}),u=o.handleFilter,d=o.data;return Object(c.useEffect)((function(){var e,t=null===n||void 0===n||null===(e=n.fullName)||void 0===e?void 0:e.replace(h,"");if(t){var c=setTimeout((function(){u({fullName:t})}),600);return function(){return clearTimeout(c)}}}),[n]),Object(O.jsx)("div",{className:"search-input assign-select-list",children:Object(O.jsx)(l.eb,{placeholder:"Search",onSearch:function(e){t({key:"",fullName:e}),s(!0)},value:n?null===n||void 0===n?void 0:n.fullName:"",children:i&&Object(O.jsx)("div",{className:"options-dropdown",children:(null===d||void 0===d?void 0:d.length)?Object(O.jsx)(O.Fragment,{children:d.map((function(e){return Object(O.jsx)("option",{onClick:function(){return t(e),void s(!1)},value:e.key,children:e.fullName},"product-select-".concat(e.key))}))}):Object(O.jsx)("p",{children:"No data found"})})})})}),I=function(e){var t=e.onClose,n=Object(l.vb)();Object(c.useEffect)((function(){n.update({type:"individual"})}),[]);var r=Object(c.useState)("individual"),a=Object(j.a)(r,2),i=a[0],s=a[1],o=Object(b.c)(),d=Object(l.xb)(),h=Object(u.g)(),f=function(){var e=Object(y.a)(g.a.mark((function e(t){var n,c,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o(Object(C.a)(Object(C.a)({},t),{},{phone:{number:null===t||void 0===t?void 0:t.phone,type:"cell"},managerKey:null===(n=t.manager)||void 0===n?void 0:n.key}));case 3:c=e.sent,(r=c.data)&&(d.success("Client has been added successfully"),h.push("/clients/".concat(r.key))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d.error("Something went wrong");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"client-form",children:Object(O.jsx)(l.m,{children:Object(O.jsxs)(l.mb,{onFinish:f,form:n,children:[Object(O.jsx)(n.Item,{name:"type",label:"Type",children:Object(O.jsx)(l.ab,{onChange:function(e){return s(e)},name:"client-type",options:w})}),Object(O.jsx)(n.Item,{label:"Phone",name:"phone",rules:[{required:!0,whitespace:!0,message:"This field is required!"},{pattern:p,message:"Must be numbers only"}],children:Object(O.jsx)(l.jb,{})}),Object(O.jsx)(n.Item,{rules:[{required:!0,whitespace:!0,message:"This field is required!"},{type:"string",pattern:v,message:"Please enter valid email"},{max:320,message:"Must be less than 320 characters"}],name:"email",label:"Email",children:Object(O.jsx)(l.jb,{})}),Object(O.jsx)(n.Item,{name:"name",label:"Client Name",rules:[{required:!0,type:"string",message:"This field is required!"},{pattern:m,message:"Must be characters only"}],children:Object(O.jsx)(l.jb,{})}),Object(O.jsx)(n.Item,{name:"company",label:"".concat("individual"===i?"Company":"Trading Name"," (Optional)"),children:Object(O.jsx)(l.jb,{})}),Object(O.jsx)(n.Item,{name:"source",label:"Source (Optional)",children:Object(O.jsx)(A,{})}),Object(O.jsx)(n.Item,{name:"manager",label:"Client Manager",children:Object(O.jsx)(F,{})}),Object(O.jsx)(n.Item,{name:"preferredProducts",label:"Preferred Products (Optional)",children:Object(O.jsx)(l.P,{options:[{label:"truScore",value:"truScore"},{label:"truWeb",value:"truWeb"},{label:"truMobile",value:"truMobile"}],showCaretUpAndDownIcon:!0,asValueArray:!0})}),Object(O.jsx)(n.Item,{shouldUpdate:!0,children:function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(l.nb,{type:"primary",htmlType:"submit",disabled:!n.valid(),children:"Create"}),Object(O.jsx)(l.nb,{htmlType:"reset",onClick:t,children:"Cancel"})]})}})]})})})},D=function(e){var t=e.onChange,n=e.value,r=Object(c.useState)(!1),a=Object(j.a)(r,2),i=a[0],s=a[1],o=Object(b.u)({paginate:{limit:20,offset:0}}),u=o.handleFilter,d=o.data;return Object(c.useEffect)((function(){var e,t=null===n||void 0===n||null===(e=n.name)||void 0===e?void 0:e.replace(h,"");if(t){var c=setTimeout((function(){u({name:t})}),600);return function(){return clearTimeout(c)}}}),[n]),Object(O.jsx)("div",{className:"search-input assign-select-list",children:Object(O.jsx)(l.eb,{placeholder:"Search",onSearch:function(e){t({key:"",name:e}),s(!0)},value:n?null===n||void 0===n?void 0:n.name:"",children:i&&Object(O.jsx)("div",{className:"options-dropdown",children:(null===d||void 0===d?void 0:d.length)?Object(O.jsx)(O.Fragment,{children:d.map((function(e){return Object(O.jsx)("option",{onClick:function(){return t(e),void s(!1)},value:e.key,children:e.name},"product-select-".concat(e.key))}))}):Object(O.jsx)("p",{children:"No data found"})})})})},K=function(e){var t=e.onSave,n=e.onClose,r=Object(l.vb)(),a=Object(l.wb)("clientKey"),i=Object(l.wb)("activityKey"),s=Object(c.useState)(!1),o=Object(j.a)(s,2),u=o[0],d=o[1],h=Object(b.d)(),m=Object(l.xb)(),v=function(){var e=Object(y.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a){e.next=3;break}throw Error("Missing parameter Client Key");case 3:if(i){e.next=5;break}throw Error("Missing parameter Activity Key");case 5:return e.next=7,h(a,i,n);case 7:m.success("Note added successfully!"),t(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),m.error("Note can not be created!");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"note-form",children:Object(O.jsx)(l.m,{children:Object(O.jsxs)(l.mb,{form:r,onFinish:function(e){return v(e)},children:[Object(O.jsx)(r.Item,{name:"subject",label:"Subject",vertical:!0,children:Object(O.jsx)(l.jb,{})}),Object(O.jsx)(r.Item,{name:"description",label:"Description",vertical:!0,children:Object(O.jsx)(l.kb,{})}),Object(O.jsx)(l.D,{label:"Follow Up",vertical:!0,children:Object(O.jsx)(l.ib,{value:u,onChange:function(e){return d(e)}})}),u&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(r.Item,{name:"followUpDate",label:"Follow Up Date",vertical:!0,children:Object(O.jsx)(l.p,{})}),Object(O.jsx)(r.Item,{name:"followUpUserKey",label:"Follow Up Person",vertical:!0,children:Object(O.jsx)(D,{})})]}),Object(O.jsx)(l.nb,{type:"primary",htmlType:"submit",children:"Add"}),Object(O.jsx)(l.nb,{onClick:n,htmlType:"reset",children:"Cancel"})]})})})},U=function(){return Object(O.jsx)(l.m,{children:Object(O.jsx)(l.R,{children:"New Request Page"})})},R=function(e){var t=e.onChange,n=e.value,c=Object(b.v)({}).data;return Object(O.jsxs)(l.gb,{onChange:t,value:c&&n?n:"placeholder",children:[Object(O.jsx)("option",{value:"placeholder",disabled:!0,children:c?"Select Product":"Loading..."}),null===c||void 0===c?void 0:c.map((function(e){return Object(O.jsx)("option",{value:e.key,children:e.name},"product-select-".concat(e.key))}))]})},P=function(e){var t=e.onChange,n=e.value,c=e.requestDefinitionKey,r=Object(b.x)({filter:{requestDefinitionKey:c}}).data;return Object(O.jsxs)(l.gb,{onChange:t,value:r&&n?n:"placeholder",children:[Object(O.jsx)("option",{value:"placeholder",disabled:!0,children:r?"Select Status":"Loading..."}),null===r||void 0===r?void 0:r.map((function(e){return Object(O.jsx)("option",{value:e.key,children:e.name},"product-select-".concat(e.key))}))]})},z=function(e){var t=e.onChange,n=e.value,r=e.unassigned,a=Object(c.useState)(!1),i=Object(j.a)(a,2),s=i[0],o=i[1],u=r?"Unassigned":"",d=Object(b.y)({paginate:{limit:20,offset:0}}),m=d.handleFilter,v=d.data,p=function(e){t(e),o(!1)};return Object(c.useEffect)((function(){var e,t=null===n||void 0===n||null===(e=n.fullName)||void 0===e?void 0:e.replace(h,"");if(t){var c=setTimeout((function(){m({fullName:t})}),600);return function(){return clearTimeout(c)}}}),[n]),Object(O.jsx)("div",{className:"search-input assign-select-list",children:Object(O.jsx)(l.eb,{placeholder:"Search",onSearch:function(e){t({key:"",fullName:e}),o(!0)},value:n?n.fullName:u,children:s&&Object(O.jsxs)("div",{className:"options-dropdown",children:[r&&Object(O.jsx)("option",{onClick:function(){return p({fullName:"Unassigned",key:""})},children:"Unassigned"},""),(null===v||void 0===v?void 0:v.length)?Object(O.jsx)(O.Fragment,{children:v.map((function(e){return Object(O.jsx)("option",{onClick:function(){return p(e)},value:e.key,children:e.fullName},"product-select-".concat(e.key))}))}):Object(O.jsx)("p",{children:"No data found"})]})})})},L=function(e){var t=e.onClose,n=Object(u.g)(),r=Object(l.xb)(),a=Object(b.h)(),i=Object(c.useState)(""),s=Object(j.a)(i,2),o=s[0],d=s[1],h=Object(l.vb)({requestType:"new",statusKey:"Select A Product"}),m=function(){var e=Object(y.a)(g.a.mark((function e(t){var c,i,s,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(Object(C.a)(Object(C.a)({},t),{},{assigneeKey:null===t||void 0===t||null===(c=t.assignee)||void 0===c?void 0:c.key,clientKey:null===t||void 0===t||null===(i=t.client)||void 0===i?void 0:i.key}));case 2:s=e.sent,(l=s.data)&&(r.success("New Request has been created, ".concat(l.key)),n.push("/requests/".concat(l.key)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){o&&h.update({statusKey:void 0})}),[o]),Object(O.jsx)(l.m,{children:Object(O.jsx)("div",{className:"new-request-popover",children:Object(O.jsxs)(l.mb,{form:h,onFinish:m,children:[Object(O.jsx)(h.Item,{name:"requestType",label:"Request Type",children:Object(O.jsx)(l.jb,{disabled:!0})}),Object(O.jsx)(h.Item,{name:"requestDefinitionKey",label:"Product",rules:[{required:!0,message:"This field is required!"}],children:Object(O.jsx)(R,{onChange:function(e){return d(e)}})}),Object(O.jsx)(h.Item,{name:"statusKey",label:"Status",rules:[{required:!0,message:"This field is required!"}],children:o?Object(O.jsx)(P,{requestDefinitionKey:o}):Object(O.jsx)(l.jb,{disabled:!0})}),Object(O.jsx)(h.Item,{name:"client",label:"Client Name",rules:[{required:!0,message:"This field is required!"}],children:Object(O.jsx)(D,{})}),Object(O.jsx)(h.Item,{shouldUpdate:!0,rules:[{required:!0,message:"This field is required!"}],name:"assignee",label:"Assign To",children:Object(O.jsx)(z,{})}),Object(O.jsx)(h.Item,{shouldUpdate:!0,children:function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(l.nb,{classes:"complete",htmlType:"submit",type:"primary",disabled:!h.valid(),children:"Complete"}),Object(O.jsx)(l.nb,{htmlType:"reset",onClick:t,small:!0,children:"Cancel"})]})}})]})})})},M=n(71),_=function(e){var t=e.component,n=e.permission,c=e.redirect,r=e.path,a=Object(M.c)(),i=Object(u.g)(),s=Object(o.c)().branding.logoUrl;return!t&&c?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.b,{exact:!0,path:r,children:Object(O.jsx)(u.a,{to:c})}),Object(O.jsx)(u.b,{component:function(){return Object(O.jsx)(l.z,{logoUrl:s,status:"404",messageError:"Oops! We can\u2019t find that page",onClick:function(){return i.push("/")}})}})]}):!n||(null===a||void 0===a?void 0:a.isPermitted(n))?Object(O.jsx)(u.b,{path:r,component:t}):Object(O.jsx)(u.b,{component:function(){return Object(O.jsx)(l.z,{logoUrl:s,status:"401",messageError:"You don\u2019t have a permission to access this page",onClick:function(){return i.push("/")}})}})},V=(n(942),function(e){var t=e.children,n=e.summary,r=e.extra,a=e.activity,i=Object(c.useState)(!1),s=Object(j.a)(i,2),o=s[0],u=s[1];return Object(O.jsxs)("div",{className:"vertical-timeline-item",children:[n&&Object(O.jsx)("div",{className:"summary",children:n}),Object(O.jsxs)("div",{className:"tru-timeline-activity-status",children:[Object(O.jsx)("div",{className:"tru-activities-label-status",children:null===a||void 0===a?void 0:a.activityType}),Object(O.jsx)("div",{className:"tru-activities-date",children:a&&Object(l.sb)(null===a||void 0===a?void 0:a.createdAt,"dd/LL/yyyy hh:mm a")})]}),Object(O.jsxs)("div",{className:"timeline",children:[Object(O.jsx)("div",{className:"vertical-line"}),Object(O.jsx)("div",{className:"dot"}),Object(O.jsx)("div",{className:"horizontal-line"})]}),Object(O.jsxs)("div",{className:"card-wrapper",children:[Object(O.jsxs)(l.h,{type:"primary",children:[r&&Object(O.jsx)(l.f,{type:"link",onClick:function(){return u(!o)},children:o?"\u25b2":"\u25bc"}),t]}),o&&Object(O.jsx)("div",{className:"sub-items",children:r})]})]})}),Y=(n(943),n(80)),W=function(){return Object(O.jsx)("div",{className:"tru-client-loading",children:Object(Y.a)(Array(5)).map((function(e){return Object(O.jsx)(l.qb,{children:Object(O.jsx)(l.M,{lines:1,width:"100%",isLoading:!0})},Math.random())}))})},B=function(e){var t=e.activities;return t?Object(O.jsx)("div",{className:"tru-client-details-wrapper",children:Object(O.jsx)(l.h,{type:"ghost",children:Object(O.jsx)(l.ob,{children:(null===t||void 0===t?void 0:t.length)?null===t||void 0===t?void 0:t.map((function(e){return Object(O.jsxs)(V,{activity:e,children:[Object(O.jsxs)("div",{className:"tru-card-title",children:[Object(O.jsx)("h5",{children:e.title}),Object(O.jsxs)("div",{children:[Object(O.jsx)("span",{children:"by: "}),Object(O.jsx)("span",{children:"System"})]})]}),Object(O.jsx)("p",{children:e.details})]},e.key)})):0===(null===t||void 0===t?void 0:t.length)&&Object(O.jsx)("div",{className:"no-activities",children:"No Activities"})})})}):Object(O.jsx)(W,{})},H=(n(944),function(e){var t=e.attachment,n=t.name,c=t.source,r=t.key,a=t.createdAt,i=e.downloadFile;return Object(O.jsxs)(l.h,{type:"primary",width:"95%",children:[Object(O.jsxs)("div",{className:"attachment-card-body",children:[Object(O.jsx)("h3",{children:n}),Object(O.jsx)("div",{children:Object(O.jsx)(l.f,{onClick:function(){return i(r)},type:"primary",children:"Download"})})]}),Object(O.jsxs)("div",{className:"attachment-card-footer",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(l.g,{fill:"var(--tru-grey)"}),Object(O.jsx)("span",{children:Object(l.sb)(a,"DD")})]}),Object(O.jsxs)("div",{className:"attachment-source",children:[Object(O.jsx)(l.a,{fill:"var(--tru-grey)"}),Object(O.jsx)("span",{children:c})]})]})]})}),Q=n(19),J=(n(945),function(e){var t=document.createElement("a");t.target="_blank",t.setAttribute("href",e),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}),G=function(){return Object(O.jsx)("div",{className:"ghost attachment-loading ",children:Object(Y.a)(Array(5)).map((function(e){return Object(O.jsxs)(l.cb,{label:"Loading",perColum:2,width:"780px",children:[Object(O.jsx)(l.h,{type:"primary",width:340,children:Object(O.jsx)(l.M,{lines:2,width:"100%",isLoading:!0})}),Object(O.jsx)(l.h,{type:"primary",width:340,children:Object(O.jsx)(l.M,{lines:2,width:"100%",isLoading:!0})})]},Math.random())}))})},$=function(e){var t=e.clientKey,n=Object(b.k)({select:["name","key","source","createdAt","product_instance.key","product_instance.label"],paginate:{limit:20,offset:0},filter:{clientsKeys:[t]}}),r=n.data,a=n.handleFilter,i=n.get,s=Object(c.useState)(""),o=Object(j.a)(s,2),d=o[0],h=o[1],m=Object(c.useState)(T[0]),v=Object(j.a)(m,2),p=v[0],f=v[1];Object(c.useEffect)((function(){var e={},n=d.trim().length>0?d.trim():void 0;e[null===p||void 0===p?void 0:p.value]=n;var c=Object(C.a)({clientsKeys:[t]},e),r=setTimeout((function(){return a(c,{override:!0})}),600);return function(){return clearTimeout(r)}}),[d,p]);var x=Object(l.xb)(),k=Object(u.g)(),w=Object(u.h)(),S=Object(b.m)(),q=function(){var e=Object(y.a)(g.a.mark((function e(t){var n,c,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S({key:t});case 3:n=e.sent,c=n.data,r=null===c||void 0===c?void 0:c.downloadUrl,J(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),x.error("Something went wrong");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();if(!r)return Object(O.jsx)(G,{});var E=Object(Q.groupBy)(r,(function(e){var t;return(null===(t=e.productInstance)||void 0===t?void 0:t.label)||"Group label"})),A=function(e){var t=e.id,n=e.count;return Object(O.jsxs)("div",{className:"attachments-header",children:[t,Object(O.jsxs)("span",{children:["(",n,")"]})]})},F=r.length?Object(Q.map)(Object(Q.merge)(E,{"All Policies":r}),(function(e,t){return Object(O.jsx)(l.cb,{label:Object(O.jsx)(A,{id:t,count:(null===e||void 0===e?void 0:e.length)||0}),perColum:2,width:"780px",children:e.map((function(e,t){return Object(O.jsx)(H,{downloadFile:function(){return q(e.key)},attachment:e},t)}))},t)})):Object(O.jsx)("div",{className:"attachment-empty",children:"No Attachment"});return Object(O.jsxs)("div",{className:"tru-client-details-wrapper attachment-tab",children:[Object(O.jsxs)(l.h,{type:"ghost",children:[Object(O.jsxs)("div",{className:"right",children:[Object(O.jsxs)("div",{className:"attachment-search-bar",children:[Object(O.jsx)(l.eb,{onSearch:h,isSecondary:!0,icon:Object(O.jsx)(l.fb,{fill:"#54616C"})}),Object(O.jsxs)(l.q,{items:Object(O.jsx)(O.Fragment,{children:T.map((function(e){return Object(O.jsx)(l.f,{onClick:function(){return function(e){f(e)}(e)},children:Object(O.jsx)("span",{className:"".concat(e.label===p.label?"selected-filter-option":""),children:e.label})},e.label)}))}),children:[Object(O.jsx)("span",{className:"attachment-selected-filter-option-text",children:p.label}),Object(O.jsx)("span",{className:"filter-option-caretDown",children:Object(O.jsx)(l.i,{})})]})]}),Object(O.jsx)(l.f,{onClick:function(){k.push("?new=attachment&clientKey=".concat(t))},type:"primary",children:"Add Attachment"})]}),F]}),Object(O.jsx)(l.Y,{title:"Add Attachment",match:"new=attachment",component:N,onSave:function(){k.push(w.pathname),i()},onClose:function(){return k.push({search:" "})}})]})},Z=n(203),X=function(e){return e?e.split(" ").map((function(e){return e.charAt(0).toUpperCase()})).slice(0,2).join(""):""},ee=function(e){var t=e.clientKey,n=e.phoneType,r=e.onSave,a=e.onCancel,i=Object(c.useState)(),s=Object(j.a)(i,2),o=s[0],u=s[1],d=Object(b.g)(),h=Object(l.xb)(),m=function(){var e=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&o){e.next=2;break}return e.abrupt("return");case 2:if(p.test(o)){e.next=5;break}return e.abrupt("return",h.error("Must be numbers only"));case 5:return e.prev=5,e.next=8,d(t,{type:n,number:o});case 8:h.success("Saved"),u(""),null===r||void 0===r||r(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),h.error("Please try again later");case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"add-phone",children:!!n&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(l.D,{vertical:!0,label:"Number",children:Object(O.jsx)(l.jb,{onKeyDown:function(e){return"Enter"===e&&m()},onChange:u,value:o})}),Object(O.jsx)(l.f,{type:"primary",onClick:m,children:"Save"}),Object(O.jsx)(l.f,{onClick:a,children:"Cancel"})]})})},te=function(e){var t=e.client,n=Object(b.t)(t.key,{}),r=n.data,a=n.get,i=Object(b.B)(),s=Object(b.j)(),o=Object(l.xb)(),u=Object(l.xb)(),d=Object(c.useState)(null),h=Object(j.a)(d,2),m=h[0],v=h[1],f=function(){var e=Object(y.a)(g.a.mark((function e(n,c){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,p.test(c)){e.next=4;break}return e.abrupt("return",u.error("Must be numbers only"));case 4:return e.next=6,i(t.key,null===n||void 0===n?void 0:n.key,{number:c});case 6:o.success("Updated"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),o.error("Please try again later");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(y.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(t.key,null===n||void 0===n?void 0:n.key);case 3:a(),o.success("Deleted"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o.error("Please try again later");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}();return r?Object(O.jsxs)("div",{className:"contact-column-wrapper",children:[Object(O.jsxs)(l.k,{children:[Object(O.jsx)("label",{children:"Phone"}),Object(O.jsxs)("div",{className:"phones-and-add-button",children:[r.map((function(e,n){return Object(O.jsxs)("div",{className:"phone-row ".concat(r&&n===(null===r||void 0===r?void 0:r.length)-1?"last":""),children:[Object(O.jsx)(l.D,{vertical:!0,label:e.type,children:Object(O.jsx)(l.w,{onSave:function(t){return function(e,t){return f(e,t)}(e,t)},initialValue:null===e||void 0===e?void 0:e.number,pattern:p,errorMessage:"Must be characters only",children:Object(O.jsx)(l.jb,{})})},"phone-".concat(e.key)),!!r&&n!==(null===r||void 0===r?void 0:r.length)-1&&Object(O.jsx)(l.f,{type:"link",onClick:function(){return x(t,e)},children:Object(O.jsx)("span",{className:"tru-close-icon-x",children:"\xd7"})})]},e.key)})),Object(O.jsx)("div",{className:"add-phone add-phone-button",children:Object(O.jsx)(l.q,{items:Object(O.jsxs)(O.Fragment,{children:[q.map((function(e){return Object(O.jsx)(l.f,{onClick:function(){return function(e){v(e)}(e)},children:e},e)})),Object(O.jsx)(l.f,{onClick:function(){return x(t,r?r[r.length-1]:null)},type:r&&r.length<=1?"disabled":"default",disabled:!!r&&r.length<=1,children:"Remove"})]}),children:Object(O.jsxs)(l.f,{type:"link",children:[Object(O.jsx)("span",{children:"Add"}),Object(O.jsx)("span",{children:Object(O.jsx)(l.i,{})})]})})})]})]}),Object(O.jsx)(l.k,{children:Object(O.jsx)(ee,{clientKey:t.key,phoneType:m,onSave:function(){a(),v(null)},onCancel:function(){v(null)}})})]}):Object(O.jsx)(l.K,{})};function ne(e){var t,n=e.client,c=e.onSave;return Object(O.jsxs)(l.k,{children:[Object(O.jsx)(l.D,{vertical:!0,label:"Client Name",children:Object(O.jsx)(l.w,{onSave:function(e){return c("name",e)},initialValue:n.name,pattern:m,errorMessage:"Must be characters only",children:Object(O.jsx)(l.jb,{})})}),Object(O.jsx)(l.D,{vertical:!0,label:"Type",children:Object(O.jsx)(l.y,{onSave:function(e){return c("type",e)},initialValue:n.type,children:Object(O.jsx)(l.hb,{options:[{label:"Individual",value:"individual"},{label:"Organization",value:"organization"}],placeholder:"Select Type",showCaretUpAndDownIcon:!0})})}),Object(O.jsx)(te,{client:n}),Object(O.jsx)(l.D,{vertical:!0,label:"Email",children:Object(O.jsx)(l.w,{onSave:function(e){return c("email",e)},initialValue:n.email,pattern:v,errorMessage:"Please enter valid email",children:Object(O.jsx)(l.jb,{})})}),Object(O.jsx)(l.D,{vertical:!0,label:"Company",children:Object(O.jsx)(l.w,{onSave:function(e){return c("company",e)},initialValue:n.company,children:Object(O.jsx)(l.jb,{})})}),Object(O.jsx)(l.D,{vertical:!0,label:"Preferred Products",children:Object(O.jsx)(l.x,{onSave:function(e){return c("preferredProducts",e?e.split(",").map((function(e){return e.trim()})):void 0)},initialValue:(null===(t=n.preferredProducts)||void 0===t?void 0:t.join(","))||"",children:Object(O.jsx)(l.P,{options:[{label:"truScore",value:"truScore"},{label:"truWeb",value:"truWeb"},{label:"truMobile",value:"truMobile"}],placeholder:"Select Preferred products",showCaretUpAndDownIcon:!0})})}),Object(O.jsx)(l.D,{vertical:!0,label:"Source",children:Object(O.jsx)(l.y,{onSave:function(e){return c("source",e)},initialValue:n.source||"",children:Object(O.jsx)(l.hb,{options:[{label:"Facebook",value:"Facebook"},{label:"Google",value:"Google"},{label:"Twitter",value:"Twitter"}],placeholder:"Select Source",showCaretUpAndDownIcon:!0})})}),Object(O.jsx)(l.D,{vertical:!0,label:"Client Manager",children:Object(O.jsx)(l.y,{onSave:function(e){return c("manager",e)},initialValue:"",children:Object(O.jsx)(l.hb,{options:[{label:"Liam Jackson",value:"Liam Jackson"},{label:"Noah Lucas",value:"Noah Lucas"},{label:"Oliver Benjamin",value:"Oliver Benjamin"}],placeholder:"Select Manager",showCaretUpAndDownIcon:!0})})})]})}n(946);var ce=function(e){var t=e.title,n=e.description,c=e.icon,r=e.children,a=e.onClose,i=e.visible;return Object(O.jsx)(O.Fragment,{children:i&&Object(O.jsxs)(l.N,{onClose:a,children:[Object(O.jsx)("h3",{children:t}),Object(O.jsxs)("div",{className:"warning-icon-and-text-wrapper",children:[c,Object(O.jsx)("h4",{children:"Warning"})]}),Object(O.jsx)("p",{children:n}),Object(O.jsx)("div",{className:"modal-actions",children:r})]})})},re=function(e){var t=e.client,n=e.contactKey,r=e.handleDeleteConsent,a=Object(b.r)(t.key,n,{select:["number","type","key"]}).data,i=Object(c.useState)(!1),s=Object(j.a)(i,2),o=s[0],u=s[1],d=Object(l.xb)(),h=Object(b.A)(),m=function(){var e=Object(y.a)(g.a.mark((function e(c,r){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(t.key,n,c,{number:r});case 3:d.success("Updated"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),d.error("Please try again later");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){u(!1)};return a?Object(O.jsxs)("div",{children:[(null===a||void 0===a?void 0:a.length)?null===a||void 0===a?void 0:a.map((function(e){var t=e.type,n=e.number,c=e.key;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(l.D,{vertical:!0,label:t,children:Object(O.jsx)(l.w,{initialValue:n,pattern:p,errorMessage:"Must be numbers only",onSave:function(e){return m(c,e)},children:Object(O.jsx)(l.jb,{})})},c),Object(O.jsx)(l.f,{classes:"delete-consent-button",onClick:function(){return u(!0)},children:Object(O.jsx)(l.o,{fill:"var(--tru-white)"})})]})})):Object(O.jsx)("div",{className:"empty-consent-details",children:Object(O.jsx)("p",{children:"There is no data to show"})}),Object(O.jsxs)(ce,{visible:o,onClose:v,title:"Remove Consent",description:Object(O.jsxs)(O.Fragment,{children:["You are going to remove ",Object(O.jsx)("span",{children:t.name})," as consent this action can\u2019t be undone"]}),icon:Object(O.jsx)(l.A,{size:"medium"}),children:[Object(O.jsx)(l.f,{onClick:function(){r(),v()},type:"primary",children:"Remove"}),Object(O.jsx)(l.f,{onClick:v,children:"Cancel"})]})]}):Object(O.jsx)(l.M,{lines:2,isLoading:!0})};function ae(e){var t=e.contacts,n=e.client,r=e.handleDeleteConsent,a=Object(u.g)(),i=Object(c.useState)(null),s=Object(j.a)(i,2),o=s[0],d=s[1];return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(l.k,{children:[(null===t||void 0===t?void 0:t.length)?Object(O.jsx)("div",{className:"tru-consent-list",children:t.map((function(e,t){var c=e.key,a=e.name,i=e.email;return Object(O.jsx)(l.l,{name:a,email:i,classes:"contact-with-collapse",link:Object(O.jsx)(l.f,{classes:"children-container",type:"link",onClick:function(){return function(e){if(e===o)return d(null);d(e)}(t)},children:o===t?Object(O.jsx)(l.j,{size:"extra-small"}):Object(O.jsx)(l.i,{size:"extra-small"})}),children:o===t&&Object(O.jsx)(re,{client:n,contactKey:c,handleDeleteConsent:function(){return r(c)}})},c)}))}):Object(O.jsx)("p",{className:"consent",children:"You can add consent person that can behave as the account owner"}),Object(O.jsx)(l.f,{classes:"tru-custom-consent",onClick:function(){return a.push("?new=consent&clientId=".concat(n.key))},children:"Add Consent"})]})})}var ie=[{name:"Yes",value:!0},{name:"No",value:!1}];function se(e){var t=e.onChange,n=(e.value,e.Form),r=Object(c.useState)([{key:"cell",value:""}]),a=Object(j.a)(r,2),i=a[0],s=a[1];return Object(O.jsx)(l.C,{fieldsList:i,onAddField:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cell";null===t||void 0===t||t([].concat(Object(Y.a)(i),[{key:e,value:""}])),s((function(t){return[].concat(Object(Y.a)(t),[{key:e,value:""}])}))},onRemoveField:function(e){var n=Object(Y.a)(i);null===n||void 0===n||n.splice(e,1),null===t||void 0===t||t(n),s(n)},onChange:function(e,n){var c=Object(Y.a)(i);c[n].value=e,null===t||void 0===t||t(c),null===s||void 0===s||s(c)},optionList:q,onSelectChange:function(e,t){var n=Object(Y.a)(i);n[t].key=e,s(n)},typeLabel:"phone",Form:n,rules:[{required:!0,whitespace:!0,message:"This field is required!"},{pattern:p,message:"Must be numbers only"}]})}n(947);var le,oe=function(e){var t=e.onClose,n=e.onSave,c=Object(l.vb)(),r=Object(b.e)(),a=Object(b.f)(),i=Object(l.xb)(),s=Object(l.wb)("clientId");if(!s)throw new Error("You must call NewConsentPopover with valid clientId in params");var o=function(){var e=Object(y.a)(g.a.mark((function e(t){var c,l,o,u,d;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return");case 2:for(l in e.prev=2,c=[],t.phone)o=l.slice(0,-1),isNaN(parseInt(null===t||void 0===t?void 0:t.phone[l]))||c.push({type:o,number:null===t||void 0===t?void 0:t.phone[l]});return e.next=7,r(s,Object(C.a)(Object(C.a)({},t),{},{phone:c[0]}));case 7:u=e.sent,d=u.data,c.slice(1).forEach((function(e){a(s,null===d||void 0===d?void 0:d.key,e)})),i.success("Consent created successfully"),n(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),i.error("Error creating consent");case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"consent-popover",children:Object(O.jsx)(l.m,{children:Object(O.jsxs)(l.mb,{form:c,onFinish:o,children:[Object(O.jsx)(c.Item,{name:"name",label:"Name",rules:[{required:!0,message:"This field is required!"},{pattern:m,whitespace:!0,message:"Must be characters only"}],children:Object(O.jsx)(l.jb,{})}),Object(O.jsx)(se,{Form:c}),Object(O.jsx)(c.Item,{name:"email",label:"Email",rules:[{required:!0,whitespace:!0,message:"This field is required!"},{type:"string",pattern:v,message:"Please enter valid email"},{max:320,message:"Must be less than 320 characters"}],children:Object(O.jsx)(l.jb,{})}),Object(O.jsx)(c.Item,{name:"signingAuth",label:"Signing Authority",rules:[{required:!0,message:"Please choose"}],children:Object(O.jsx)(l.ab,{name:"type",options:ie})}),Object(O.jsx)(c.Item,{shouldUpdate:!0,children:function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(l.nb,{htmlType:"submit",type:"primary",disabled:!c.valid(),children:"Add"}),Object(O.jsx)(l.nb,{onClick:t,children:"Cancel"})]})}})]})})})},ue=function(e){var t=e.clientKey,n=e.handleRefetchActivities,c=Object(b.l)(t,{include:["manager"]}),r=c.data,a=c.get,i=Object(u.g)(),s=Object(b.s)(t,{sort:[{sortBy:"createdAt",sortOrder:"asc"}]}),o=s.data,d=s.get,j=Object(b.i)(),h=function(){var e=Object(y.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j(t,n);case 3:d(),v.success("Deleted"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),v.error("Please try again later");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),m=Object(b.z)(),v=Object(l.xb)(),p=[{label:"Lead",value:"lead"},{label:"Client",value:"client"},{label:"Lost",value:"lost"},{label:"Vip",value:"vip"}],f=function(){var e=Object(y.a)(g.a.mark((function e(c,r){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(t,Object(Z.a)({},c,r||null));case 3:v.success("Updated"),a(),n(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),v.error("Please try again later");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"side-bar",children:[Object(O.jsx)(l.h,{type:"ghost",width:"317px",children:r?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(l.e,{size:"large",children:X(null===r||void 0===r?void 0:r.name)}),Object(O.jsx)("h2",{className:"client-name",children:null===r||void 0===r?void 0:r.name}),Object(O.jsx)("div",{className:"dropdown-menu-wrapper",children:Object(O.jsx)(l.q,{items:Object(O.jsx)(O.Fragment,{children:E.map((function(e){return Object(O.jsx)(l.f,{children:e},e)}))}),children:Object(O.jsx)(l.f,{classes:"record-icon-button",children:Object(O.jsx)(l.bb,{size:"small",fill:"var(--tru-shuttle-grey)"})})})}),Object(O.jsx)(l.hb,{options:p,defaultValue:p.find((function(e){return e.value===(null===r||void 0===r?void 0:r.status)})),placeholder:"Select status",showCaretUpAndDownIcon:!0,asValue:!0,onChange:function(e){f("status",e)}}),Object(O.jsxs)(l.F,{tabs:[{label:"Details"},{label:"Consent"}],children:[Object(O.jsx)("div",{className:"sidebar-clientInfo-wrapper",children:Object(O.jsx)(ne,{client:r,onSave:f})}),Object(O.jsx)("div",{className:"sidebar-contact-wrapper",children:Object(O.jsx)(ae,{contacts:o,client:r,handleDeleteConsent:function(e){return h(e)}})})]})]}):Object(O.jsx)(l.K,{})}),Object(O.jsx)(l.Y,{title:"New Consent",match:"new=consent",component:oe,onClose:function(){i.push({search:" "})},onSave:function(){i.push({search:" "}),d(),n()}})]})},de=(n(948),function(e){var t=e.match,n=e.location,r=e.history,a=t.params.key,i=Object(b.q)(a,{paginate:{limit:10,offset:0}}),s=i.data,o=i.get,u=[{label:"Activities",path:"activities"},{label:"Attachments",path:"attachments"}],d=Object(c.useState)(function(){var e=n.pathname.split("/").pop();return u.some((function(t){return t.path===e}))?e:u[0].path}()),h=Object(j.a)(d,2),m=h[0],v=h[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(l.m,{children:Object(O.jsx)(l.R,{children:Object(O.jsxs)("div",{className:"flex-page",children:[Object(O.jsx)(ue,{clientKey:a,handleRefetchActivities:function(){o()}}),Object(O.jsx)("div",{className:"main-page tru-client-details client-tabs-wrapper",children:Object(O.jsxs)(l.F,{active:m,onClick:function(e){r.push("".concat(t.url,"/").concat(e)),v(e)},tabs:u,children:[Object(O.jsx)(_,{path:"".concat(t.path),component:function(){return Object(O.jsx)(B,{activities:s})}}),Object(O.jsx)(_,{path:"".concat(t.path,"/attachments"),component:function(){return Object(O.jsx)($,{clientKey:t.params.key})}})]})})]})})}),Object(O.jsxs)(l.X,{paramKey:"add",children:[Object(O.jsx)(l.Y,{title:"Add Note",match:"note",component:Object(O.jsx)(O.Fragment,{})}),Object(O.jsx)(l.Y,{title:"Add Attachment",match:"attachment",component:Object(O.jsx)(O.Fragment,{})})]})]})}),je=(n(949),function(e,t,n){return Object(Q.includes)(null===n||void 0===n?void 0:n[e],t)}),be=function(){var e=Object(b.u)({paginate:{limit:5,offset:0},select:["key","name","type","email","status","phoneNumber","managerName","company"],sort:[{sortBy:"name",sortOrder:"asc"}]}),t=e.query,n=e.data,c=e.paging,r=e.handleLimit,a=e.handleOffset,i=e.handleFilter,o=e.handleSort,u=e.sortIndex,d=e.loading,j=n;return n&&t.paginate&&c?Object(O.jsx)("div",{className:"clients-list-page",children:Object(O.jsx)(l.m,{children:Object(O.jsxs)(l.R,{children:[Object(O.jsxs)("h1",{children:["Clients (",null===c||void 0===c?void 0:c.count,")"]}),Object(O.jsx)(l.G,{loading:d,columns:[{field:"name",label:"Client Name",sortOrder:u.name,onSort:function(){return o("name")},render:function(e){var t=e.key,n=e.name;return Object(O.jsxs)(s.c,{to:"/clients/".concat(t),children:[Object(O.jsx)("div",{className:"client-list-avatar",children:Object(O.jsx)(l.e,{children:X(n)})}),Object(O.jsx)("span",{children:n})]})}},{field:"status",label:"Client Status",header:function(e){return Object(O.jsx)(l.I,{options:[{label:"lead",value:"lead",checked:je("status","lead",t.filter)},{label:"vip",value:"vip",checked:je("status","vip",t.filter)},{label:"lost",value:"lost",checked:je("status","lost",t.filter)},{label:"client",value:"client",checked:je("status","client",t.filter)}],onChange:function(e){i(e.length?{status:e}:{})}})},sortOrder:null===u||void 0===u?void 0:u.status,onSort:function(){return o("status")}},{field:"email",label:"Email",sortOrder:null===u||void 0===u?void 0:u.email,onSort:function(){return o("email")}},{field:"phoneNumber",label:"Phone Number",sortOrder:null===u||void 0===u?void 0:u.phoneNumber,onSort:function(){return o("phoneNumber")}},{field:"managerName",label:"Owner",sortOrder:null===u||void 0===u?void 0:u.managerName,onSort:function(){return o("managerName")}},{field:"company",label:"Company",sortOrder:null===u||void 0===u?void 0:u.company,onSort:function(){return o("company")}}],data:j,footer:Object(O.jsxs)(l.J,{children:[Object(O.jsx)(l.H,{value:t.paginate.limit,options:[5,10,15,20],onChange:r}),Object(O.jsx)(l.T,{total:c.count,perPage:t.paginate.limit,index:t.paginate.offset/t.paginate.limit,onChange:function(e){var n;return a((null===(n=t.paginate)||void 0===n?void 0:n.limit)*e)}})]})})]})})}):Object(O.jsx)(l.L,{})},he=function(){return Object(O.jsx)(l.m,{children:Object(O.jsxs)(l.R,{children:[Object(O.jsx)("h1",{children:"Dashboard"}),Object(O.jsx)(l.S,{children:Object(O.jsx)("p",{children:"Welcome to the truMarket dashboard!"})})]})})},me=n(72),ve=n(428);!function(e){e.CONNECTION="connection",e.DISCONNECT="disconnect",e.CONNECT_ERROR="connect_error",e.REFRESH_TOKEN="token:refresh",e.REQUEST_UPDATE="request:update",e.REQUEST_JOIN="request:join",e.REQUEST_LEAVE="request:leave"}(le||(le={}));var pe=Object(c.createContext)(null),Oe=function(e){var t,n=e.children,r=e.baseURL,a=Object(o.b)(),i=a.company,s=null===(t=a.keycloak)||void 0===t?void 0:t.token,l=Object(c.useState)(null),u=Object(j.a)(l,2),d=u[0],b=u[1];function h(e,t,n){null===d||void 0===d||d.emit(e,t,n)}var m=Object(c.useCallback)((function(){var e=Object(ve.a)("".concat(r,"/").concat(i),{extraHeaders:{token:s}});e.on(le.CONNECTION,(function(e){console.log("Socket connection success",e)})),e.on(le.CONNECT_ERROR,(function(e){console.log("Socket connection error",e.message)})),b(e)}),[]);return Object(c.useEffect)((function(){return m(),function(){null===d||void 0===d||d.disconnect()}}),[]),Object(c.useEffect)((function(){var e=setInterval(Object(y.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=a.keycloak)||void 0===t?void 0:t.updateToken(10);case 2:e.sent&&h(le.REFRESH_TOKEN,{token:null===(n=a.keycloak)||void 0===n?void 0:n.token});case 4:case"end":return e.stop()}}),e)}))),6e4);return function(){clearInterval(e)}}),[d]),Object(O.jsx)(pe.Provider,{value:{socket:d,subscribeToSocketEvent:function(e,t){null===d||void 0===d||d.on(e,t)},unsubscribeFromSocketEvent:function(e,t){null===d||void 0===d||d.off(e,t)},emitSocketEvent:h},children:n})},fe=(n(950),function(e){var t,n,r,a,i,s,o,u,d,h,m=e.match,v=e.history,p=m.params.key,f=Object(l.xb)(),x=Object(c.useRef)({}),k=Object(c.useRef)(!1),N=Object(c.useState)({}),C=Object(j.a)(N,2),w=C[0],S=C[1],q=Object(c.useState)(!1),E=Object(j.a)(q,2),T=E[0],A=E[1],F=Object(b.n)(p,{include:["assignee","creator","requestDefinition","uiSchema","client","status","productInstance"]}),I=F.data,D=F.get,K=F.loading,U=Object(b.C)(),R=Object(b.p)(),P=function(){var e=Object(c.useContext)(pe);if(!e)throw Error("Error using SocketContext outside SocketContextProvider");return e}(),z=P.subscribeToSocketEvent,L=P.unsubscribeFromSocketEvent,M=P.emitSocketEvent,_=P.socket,V=Object(b.a)();Object(c.useEffect)((function(){M(le.REQUEST_JOIN,{mode:"write",key:p},(function(e){e.error&&f.error("We are having some temporary server issues, please try again later.")}));var e=function(e){return D()};return z(le.REQUEST_UPDATE,e),function(){M(le.REQUEST_LEAVE,{key:p}),L(le.REQUEST_UPDATE,e)}}),[_]),Object(c.useEffect)((function(){p&&D()}),[p]),Object(c.useEffect)((function(){var e;S(null===I||void 0===I||null===(e=I.uiSchema)||void 0===e?void 0:e.schema)}),[I]);var Y=function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.prev=1,e.next=4,R({actionKey:t,data:{requestKey:p}});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:return e.abrupt("return",Promise.resolve());case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(p,{uiSchemaKey:t});case 2:A(!1),D();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(p,{data:x.current});case 2:v.push("/requests");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(K),T||K?Object(O.jsx)(l.L,{}):Object(O.jsx)("div",{className:"request-details-page ".concat("Estimate"===(null===I||void 0===I||null===(t=I.status)||void 0===t?void 0:t.name)?"quotes":""),children:Object(O.jsx)(l.s,{data:(null===I||void 0===I?void 0:I.data)||{},schema:null===I||void 0===I||null===(n=I.requestDefinition)||void 0===n?void 0:n.dataSchema,uiSchema:w,onDataUpdate:function(e){x.current=e},onErrorsUpdate:function(e,t){k.current=t},onEmit:function(e){return function(e){e&&M(le.REQUEST_UPDATE,{key:p,data:e},(function(e){e.error}))}(e)},onInvokeAction:Y,onChangeUiSchema:W,onNavigate:console.log,children:Object(O.jsxs)(me.a,{children:["New"===(null===I||void 0===I||null===(r=I.status)||void 0===r?void 0:r.name)&&Object(O.jsx)("div",{className:"form-stepper-container",children:Object(O.jsx)(l.t,{})}),Object(O.jsx)("div",{className:"header-form-and-hints-container",children:Object(O.jsxs)("div",{className:"header-and-form",children:[Object(O.jsxs)("div",{className:"header",children:[Object(O.jsxs)(l.db,{children:[Object(O.jsx)(l.k,{children:Object(O.jsx)(l.l,{name:(null===I||void 0===I||null===(a=I.client)||void 0===a?void 0:a.name)||"",email:(null===I||void 0===I||null===(i=I.client)||void 0===i?void 0:i.email)||""})}),Object(O.jsx)(l.k,{children:Object(O.jsxs)("div",{className:"request-type",children:[Object(O.jsxs)("p",{className:"request-name",children:["New"===(null===I||void 0===I||null===(s=I.status)||void 0===s?void 0:s.name)&&Object(O.jsxs)("span",{className:"status-name",children:[null===I||void 0===I||null===(o=I.status)||void 0===o?void 0:o.name," Request"]}),"Estimate"===(null===I||void 0===I||null===(u=I.status)||void 0===u?void 0:u.name)&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("span",{className:"name",children:"Quote: "}),Object(O.jsx)("span",{className:"name-value",children:null===I||void 0===I||null===(d=I.status)||void 0===d?void 0:d.name})]})]}),Object(O.jsxs)("p",{className:"request-id",children:[Object(O.jsx)("span",{className:"id",children:"ID: "}),Object(O.jsx)("span",{className:"id-value",children:p.slice(0,10)})]})]})}),Object(O.jsx)(l.k,{children:Object(O.jsx)("div",{className:"actions"})})]}),"New"===(null===I||void 0===I||null===(h=I.status)||void 0===h?void 0:h.name)&&Object(O.jsxs)(l.db,{children:[Object(O.jsx)(l.k,{children:Object(O.jsx)(l.eb,{onSearch:function(e){var t,n=Object(l.rb)(null===I||void 0===I||null===(t=I.uiSchema)||void 0===t?void 0:t.schema,e),c=Object(l.tb)(n,!!e);S(c)},isSecondary:!0,icon:Object(O.jsx)(l.fb,{fill:"#54616C"})})}),Object(O.jsx)(l.k,{children:Object(O.jsxs)("div",{className:"cancel-and-save-actions",children:[Object(O.jsx)(l.f,{onClick:function(){return v.push("/requests")},children:"Cancel"}),Object(O.jsx)(l.f,{type:"primary",onClick:B,children:"Save & Exit"})]})})]})]}),Object(O.jsx)("div",{className:"form",children:Object(O.jsx)(l.r,{})})]})})]})})})}),xe=n(431),ge=function(e){var t,n,r=e.onSave,a=e.onClose,i=Object(l.xb)(),s=Object(l.wb)("request-key"),o=Object(b.n)(s,{include:["assignee","status","requestDefinition"]}).data,u=Object(xe.a)(),d=Object(l.vb)({assignee:null===o||void 0===o?void 0:o.assignee,statusKey:null===o||void 0===o||null===(t=o.status)||void 0===t?void 0:t.key,requestInstanceKey:s,comment:void 0});Object(c.useEffect)((function(){var e;d.update({assignee:null===o||void 0===o?void 0:o.assignee,statusKey:null===o||void 0===o||null===(e=o.status)||void 0===e?void 0:e.key,requestInstanceKey:s})}),[o]);var j=function(){var e=Object(y.a)(g.a.mark((function e(t){var n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=!!(null===(n=t.assignee)||void 0===n?void 0:n.key),e.abrupt("return",u(s,{unassign:!c,assign:c?{userKey:t.assignee.key,comment:t.comment}:void 0,update:{statusKey:t.statusKey}}));case 5:e.prev=5,e.t0=e.catch(0),i.error("Error assigning request");case 8:return e.prev=8,i.success("Successfully assigned request"),r(),e.finish(8);case 12:case"end":return e.stop()}}),e,null,[[0,5,8,12]])})));return function(t){return e.apply(this,arguments)}}();return d.data.statusKey?Object(O.jsx)(l.mb,{form:d,onFinish:j,children:Object(O.jsxs)(l.k,{width:"100%",children:[Object(O.jsx)(d.Item,{name:"assignee",label:"Assign To",children:Object(O.jsx)(z,{unassigned:!0})}),Object(O.jsx)(d.Item,{name:"statusKey",label:"Task Status",children:Object(O.jsx)(P,{requestDefinitionKey:null===o||void 0===o||null===(n=o.requestDefinition)||void 0===n?void 0:n.key})}),Object(O.jsx)(d.Item,{name:"comment",label:"Assign Note",children:Object(O.jsx)(l.kb,{})}),Object(O.jsxs)(l.m,{children:[Object(O.jsx)(l.nb,{htmlType:"submit",type:"primary",children:"Assign"}),Object(O.jsx)(l.nb,{htmlType:"reset",onClick:a,children:"Cancel"})]})]})}):Object(O.jsx)(l.K,{children:"Loading..."})},ye=(n(951),function(e){var t,n,r,a,i,u=e.history,d=Object(o.b)(),h=null===d||void 0===d||null===(t=d.user)||void 0===t?void 0:t.id,m=Object(b.w)({paginate:{limit:5,offset:0},sort:[{sortBy:"statusName",sortOrder:"asc"}],filter:{assigneeKeys:h?[h]:[]}}),v=m.data,p=m.query,f=m.handleFilter,x=m.handleSort,k=m.handleOffset,N=m.handleLimit,C=m.get,w=m.paging,S=m.sortIndex,q=m.loading,E=v,T=Object(b.C)(),A=Object(b.x)({}),F=A.data,I=A.handleFilter,D=A.loading,K=Object(c.useState)(),U=Object(j.a)(K,2),R=U[0],P=U[1];Object(c.useEffect)((function(){R||P(F)}),[F]);var z=function(e){f({assigneeKeys:[e]})},L=function(){u.push({search:""})},M=function(){var e=Object(y.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t,{statusKey:n,uiSchemaKey:void 0});case 2:C();case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return F&&h&&E&&R?Object(O.jsxs)("div",{className:"requests-list-page",children:[Object(O.jsx)(l.m,{children:Object(O.jsxs)(l.R,{children:[Object(O.jsxs)("h1",{children:["Requests (",null===w||void 0===w?void 0:w.count,")"]}),Object(O.jsxs)("div",{className:"filters-buttons",children:[Object(O.jsx)(l.f,{type:je("assigneeKeys",h,p.filter)?"primary":"default",onClick:function(){return z(h)},children:"My requests"}),Object(O.jsx)(l.f,{type:je("assigneeKeys",null,p.filter)?"primary":"default",onClick:function(){return z(null)},children:"Open requests"})]}),Object(O.jsx)(l.G,{loading:q,data:E,columns:[{label:"Request Type",field:"requestDefinitionName",render:function(e){var t=e.key,n=e.requestDefinitionName;return Object(O.jsx)(s.c,{to:"/requests/".concat(t),children:null===n||void 0===n?void 0:n.label})},sortOrder:S.requestDefinitionName,onSort:function(){return x("requestDefinitionName")}},{label:"Status",header:function(e){return Object(O.jsx)(l.I,{options:null===R||void 0===R?void 0:R.map((function(e){return{label:e.name,value:e.key,checked:je("statusKeys",e.key,p.filter)}})),onChange:function(e){f({statusKeys:e.length?e:void 0})}})},sortOrder:S.statusName,onSort:function(){return x("statusName")},field:"statusName",render:function(e){var t=e.statusName,n=e.key,c=e.requestDefinitionName;return Object(O.jsx)("div",{className:"tru-select-wrapper",children:Object(O.jsx)(l.q,{items:D?Object(O.jsx)(l.M,{lines:2,width:"90%",height:"5%",isLoading:!0}):null===F||void 0===F?void 0:F.map((function(e){return Object(O.jsx)("span",{className:e.name,onClick:function(){return M(n,e.key)},children:e.name},"request-status-".concat(e.key))})),children:Object(O.jsxs)(l.f,{onClick:function(){return I({requestDefinitionKey:c.key})},classes:null===t||void 0===t?void 0:t.label,children:[null===t||void 0===t?void 0:t.label,Object(O.jsx)(l.i,{size:"extra-small",fill:"var(--tru-grey)"})]})})})}},{label:"Client",field:"clientName",render:function(e){var t=e.clientName;return Object(O.jsx)(s.c,{to:"clients/".concat(null===t||void 0===t?void 0:t.key),children:null===t||void 0===t?void 0:t.label})},sortOrder:S.clientName,onSort:function(){return x("clientName")}},{label:"Assignee",field:"assigneeName",header:function(e){return Object(O.jsx)(l.I,{options:[{label:"Unassigned",value:"null",checked:je("assigneeKeys",null)},{label:"Me",value:h,checked:je("assigneeKeys",h,p.filter)}],onChange:function(e){f({assigneeKeys:e.length?e.map((function(e){return"null"===e?null:e})):void 0})}})},render:function(e){var t=e.assigneeName;return Object(O.jsx)("span",{children:null===t||void 0===t?void 0:t.label})},sortOrder:S.assigneeName,onSort:function(){return x("assigneeName")}},{label:"Created At",field:"createdAt",render:function(e){var t=e.createdAt;return Object(O.jsx)("span",{children:Object(l.sb)(t||"")})},sortOrder:S.createdAt,onSort:function(){return x("createdAt")}},{label:"",field:"key",render:function(e){var t=e.key;return Object(O.jsx)(l.q,{items:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(l.f,{type:"link",classes:"tru-assign-request",onClick:function(){u.push({search:"action=assign&request-key=".concat(t)})},children:"Assign"}),Object(O.jsx)(l.f,{classes:"tru-close-request",type:"link",onClick:function(){return console.log("sending close request")},children:"Close"})]}),openLeft:!0,children:Object(O.jsx)(l.Z,{})})}}],footer:Object(O.jsxs)(l.J,{children:[Object(O.jsx)(l.H,{value:null===(n=p.paginate)||void 0===n?void 0:n.limit,options:[5,10,15,20],onChange:N}),Object(O.jsx)(l.T,{total:null===w||void 0===w?void 0:w.count,perPage:null===p||void 0===p||null===(r=p.paginate)||void 0===r?void 0:r.limit,index:(null===p||void 0===p||null===(a=p.paginate)||void 0===a?void 0:a.offset)/(null===p||void 0===p||null===(i=p.paginate)||void 0===i?void 0:i.limit),onChange:function(e){var t;return k((null===(t=p.paginate)||void 0===t?void 0:t.limit)*e)}})]})})]})}),Object(O.jsx)(l.Y,{match:"action=assign",title:"Assign",component:ge,backdrop:!0,onSave:function(){L(),C()},onClose:L})]}):Object(O.jsx)(l.L,{})}),ke=(n(952),function(){var e=Object(u.g)(),t=Object(u.h)(),n=e.location.pathname,c=Object(o.b)(),r=c.user,a=c.logOut,i=Object(o.c)().branding.logoUrl,j=Object(O.jsxs)(O.Fragment,{children:[(null===r||void 0===r?void 0:r.username)&&Object(O.jsxs)("p",{className:"tru-user-info",children:[null===r||void 0===r?void 0:r.username,"!"]}),!1,Object(O.jsxs)("p",{className:"tru-user-info",children:["v",d.version]}),(null===r||void 0===r?void 0:r.email)&&Object(O.jsxs)("p",{className:"tru-user-info",children:[null===r||void 0===r?void 0:r.email,"!"]})]});return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"tru-header-and-content",children:[Object(O.jsx)(l.c,{logoUrl:i,user:r,logOut:a,title:"truMarket",links:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(s.c,{className:n.includes("requests")?"active":"",to:"/requests",children:"Requests"}),Object(O.jsx)(s.c,{className:n.includes("clients")?"active":"",to:"/clients",children:"Clients"})]}),handleLogoClick:function(){return e.push("/dashboard")},dropdownItems:j,childrenRight:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(f,{}),Object(O.jsx)(l.q,{openLeft:!0,items:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(s.c,{to:{search:"?new=client"},children:"Client"}),Object(O.jsx)(s.c,{to:{search:"?new=request"},children:"Request"})]}),children:Object(O.jsx)(l.f,{type:"primary",children:"Add \u25bc"})}),Object(O.jsxs)("div",{className:"tru-notification",children:[Object(O.jsx)("span",{children:"6"}),Object(O.jsx)(l.Q,{fill:"var(--tru-white)"})]})]})}),Object(O.jsx)(l.b,{children:Object(O.jsxs)(u.d,{children:[Object(O.jsx)(_,{path:"/dashboard",component:he}),Object(O.jsx)(_,{path:"/clients/:key",component:de}),Object(O.jsx)(_,{path:"/clients",component:be}),Object(O.jsx)(_,{path:"/requests/:key/edit",component:U}),Object(O.jsx)(_,{path:"/requests/:key",component:fe}),Object(O.jsx)(_,{path:"/requests",component:ye}),Object(O.jsx)(_,{path:"/",redirect:"/requests"})]})})]}),Object(O.jsx)(l.Y,{title:"New Client",match:"new=client",component:I,onClose:function(){return e.push({search:" "})}}),Object(O.jsx)(l.Y,{title:"New Request",match:"new=request",component:L,onClose:function(){return e.push({search:" "})}}),Object(O.jsx)(l.Y,{title:"New Note",match:"new=note",component:K,onSave:function(){return e.push(t.pathname)}}),Object(O.jsx)(l.Y,{title:"Add Attachment",match:"new=attachment",component:N,onSave:function(){return e.push({search:" "})},onClose:function(){return e.push({search:" "})}}),Object(O.jsx)(l.O,{})]})}),Ne=(n(278),n(953),function(){var e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AUTH_URL:"https://secure.trufla.dev/auth",REACT_APP_API_URL:"https://api.trumarket.dev"}).REACT_APP_AUTH_REALM,t="https://secure.trufla.dev/auth",n="https://api.trumarket.dev";return console.info("Config (auth, api):",t,n),Object(O.jsx)(s.a,{children:Object(O.jsx)(l.d,{appTitle:"TruMarket",pathsMap:[{match:/^\/dashboard/,title:"Dashboard"},{match:/^\/clients\/([a-z0-9-]+)\/attachments/,title:"Client Attachments"},{match:/^\/clients\/([a-z0-9-]+)/,title:"Client Activities"},{match:/^\/clients/,title:"Client List"},{match:/^\/requests\/([a-z0-9-]+)\/edit/,title:"Request edit"},{match:/^\/requests\/([a-z0-9-]+)/,title:"Request details"},{match:/^\/requests/,title:"Request List"}],children:Object(O.jsx)(o.a,{company:e,appName:"trumarket-web",authUrl:t,baseURL:n,children:Object(O.jsx)(Oe,{baseURL:n,children:Object(O.jsx)(l.W,{children:Object(O.jsx)(ke,{})})})})})})}),Ce=function(e){e&&e instanceof Function&&n.e(63).then(n.bind(null,1021)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(Ne,{})}),document.getElementById("root")),Ce()}},[[954,1,2]]]);
//# sourceMappingURL=main.43f2e9c3.chunk.js.map